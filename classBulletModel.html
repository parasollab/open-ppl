<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Parasol Planning Library (PPL): BulletModel Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="parasol_logo_transparent_small.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Parasol Planning Library (PPL)
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">BulletModel Class Reference<span class="mlabels"><span class="mlabel">final</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="BulletModel_8h_source.html">BulletModel.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">Construction</div></td></tr>
<tr class="memitem:ad2a7cec1aab4c31120938c5ed86c2354"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBulletModel.html#ad2a7cec1aab4c31120938c5ed86c2354">BulletModel</a> (<a class="el" href="classMultiBody.html">MultiBody</a> *const _mb, <a class="el" href="classRobot.html">Robot</a> *const _robot=nullptr)</td></tr>
<tr class="separator:ad2a7cec1aab4c31120938c5ed86c2354"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94af3c0df7fd8049cc4cad9fe52c11d0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBulletModel.html#a94af3c0df7fd8049cc4cad9fe52c11d0">~BulletModel</a> ()</td></tr>
<tr class="separator:a94af3c0df7fd8049cc4cad9fe52c11d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec5c7e7371d40a5592684616b024c66d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBulletModel.html#aec5c7e7371d40a5592684616b024c66d">Rebuild</a> ()</td></tr>
<tr class="separator:aec5c7e7371d40a5592684616b024c66d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Accessors</div></td></tr>
<tr class="memitem:a77f533169b84e3db04bcfc67ca1c28f8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classMultiBody.html">MultiBody</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBulletModel.html#a77f533169b84e3db04bcfc67ca1c28f8">GetPMPLMultiBody</a> () const noexcept</td></tr>
<tr class="memdesc:a77f533169b84e3db04bcfc67ca1c28f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the PMPL multibody.  <a href="classBulletModel.html#a77f533169b84e3db04bcfc67ca1c28f8">More...</a><br /></td></tr>
<tr class="separator:a77f533169b84e3db04bcfc67ca1c28f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3203a55fcb07b4c73580834c8ae8dd6"><td class="memItemLeft" align="right" valign="top">btMultiBody *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBulletModel.html#ab3203a55fcb07b4c73580834c8ae8dd6">GetBulletMultiBody</a> () const noexcept</td></tr>
<tr class="memdesc:ab3203a55fcb07b4c73580834c8ae8dd6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the bullet multibody.  <a href="classBulletModel.html#ab3203a55fcb07b4c73580834c8ae8dd6">More...</a><br /></td></tr>
<tr class="separator:ab3203a55fcb07b4c73580834c8ae8dd6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Simulation Interface</div></td></tr>
<tr class="memitem:aa78ff74b992e1cc109d78462298d2beb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classCfg.html">Cfg</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBulletModel.html#aa78ff74b992e1cc109d78462298d2beb">GetState</a> () const noexcept</td></tr>
<tr class="separator:aa78ff74b992e1cc109d78462298d2beb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0b12df96bbbe8d0a23cb118701662f0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBulletModel.html#ad0b12df96bbbe8d0a23cb118701662f0">SetState</a> (const <a class="el" href="classCfg.html">Cfg</a> &amp;_c) noexcept</td></tr>
<tr class="separator:ad0b12df96bbbe8d0a23cb118701662f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ae86cf25a753121748f7c78f4f1ee02"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBulletModel.html#a7ae86cf25a753121748f7c78f4f1ee02">Execute</a> (const <a class="el" href="structControl.html">Control</a> &amp;_c) noexcept</td></tr>
<tr class="separator:a7ae86cf25a753121748f7c78f4f1ee02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42570f8707b0e5688b648df4a0f0dc4c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBulletModel.html#a42570f8707b0e5688b648df4a0f0dc4c">Execute</a> (const <a class="el" href="Control_8h.html#af0a65a08c5d85f0bfc93fc07119e5919">ControlSet</a> &amp;_c) noexcept</td></tr>
<tr class="separator:a42570f8707b0e5688b648df4a0f0dc4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe4489de96cf7836947ddb20ec099c39"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBulletModel.html#afe4489de96cf7836947ddb20ec099c39">ZeroVelocities</a> () noexcept</td></tr>
<tr class="separator:afe4489de96cf7836947ddb20ec099c39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Dynamics World Helpers</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>These functions handle adding and removing this model from a bullet dynamics world. </p>
</div></td></tr>
<tr class="memitem:a9070b8b6e08edb11bf0035e04b4fc1e6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBulletModel.html#a9070b8b6e08edb11bf0035e04b4fc1e6">AddToDynamicsWorld</a> (btMultiBodyDynamicsWorld *const _world)</td></tr>
<tr class="separator:a9070b8b6e08edb11bf0035e04b4fc1e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafb7539e104355011cb7cac841c8ede8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBulletModel.html#aafb7539e104355011cb7cac841c8ede8">RemoveFromDynamicsWorld</a> ()</td></tr>
<tr class="separator:aafb7539e104355011cb7cac841c8ede8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A model of a multibody within a bullet simulation.</p>
<p>This structure contains all of the components which make up a bullet multibody model, as well as functions for interfacing with it from PMPL.</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000102">Todo:</a></b></dt><dd>This model can currently only support robots with revolute joints. Nonactuated and spherical joints don't work right. One problem is that bullet indexes the number of joints while pmpl uses the number of dof, so some of our joint loops don't line up. Another is that bullet only supports 3-dof spherical joints with no way to constrain them.</dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ad2a7cec1aab4c31120938c5ed86c2354"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2a7cec1aab4c31120938c5ed86c2354">&#9670;&nbsp;</a></span>BulletModel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BulletModel::BulletModel </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classMultiBody.html">MultiBody</a> *const&#160;</td>
          <td class="paramname"><em>_mb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classRobot.html">Robot</a> *const&#160;</td>
          <td class="paramname"><em>_robot</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Construct a bullet model of a PMPL multibody. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_mb</td><td>The PMPL multibody. </td></tr>
    <tr><td class="paramname">_robot</td><td>The robot, if any. Static multibodies will not have this. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a94af3c0df7fd8049cc4cad9fe52c11d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94af3c0df7fd8049cc4cad9fe52c11d0">&#9670;&nbsp;</a></span>~BulletModel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BulletModel::~BulletModel </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a9070b8b6e08edb11bf0035e04b4fc1e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9070b8b6e08edb11bf0035e04b4fc1e6">&#9670;&nbsp;</a></span>AddToDynamicsWorld()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BulletModel::AddToDynamicsWorld </td>
          <td>(</td>
          <td class="paramtype">btMultiBodyDynamicsWorld *const&#160;</td>
          <td class="paramname"><em>_world</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>@TODO Need to set friction properly.</p>

</div>
</div>
<a id="a7ae86cf25a753121748f7c78f4f1ee02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ae86cf25a753121748f7c78f4f1ee02">&#9670;&nbsp;</a></span>Execute() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void BulletModel::Execute </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structControl.html">Control</a> &amp;&#160;</td>
          <td class="paramname"><em>_c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Execute a control on the bullet model for the next time step. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_c</td><td>The control to apply. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a42570f8707b0e5688b648df4a0f0dc4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42570f8707b0e5688b648df4a0f0dc4c">&#9670;&nbsp;</a></span>Execute() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void BulletModel::Execute </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="Control_8h.html#af0a65a08c5d85f0bfc93fc07119e5919">ControlSet</a> &amp;&#160;</td>
          <td class="paramname"><em>_c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Execute a set of controls on the bullet model for the next time step. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_c</td><td>The controls to apply. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab3203a55fcb07b4c73580834c8ae8dd6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3203a55fcb07b4c73580834c8ae8dd6">&#9670;&nbsp;</a></span>GetBulletMultiBody()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">btMultiBody * BulletModel::GetBulletMultiBody </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the bullet multibody. </p>

</div>
</div>
<a id="a77f533169b84e3db04bcfc67ca1c28f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77f533169b84e3db04bcfc67ca1c28f8">&#9670;&nbsp;</a></span>GetPMPLMultiBody()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMultiBody.html">MultiBody</a> * BulletModel::GetPMPLMultiBody </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the PMPL multibody. </p>

</div>
</div>
<a id="aa78ff74b992e1cc109d78462298d2beb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa78ff74b992e1cc109d78462298d2beb">&#9670;&nbsp;</a></span>GetState()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classCfg.html">Cfg</a> BulletModel::GetState </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get the current configuration of the bullet model. Does not work for static multibodies. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000101">Todo:</a></b></dt><dd>This should probably move to <a class="el" href="classCfg.html">Cfg</a>. </dd></dl>

</div>
</div>
<a id="aec5c7e7371d40a5592684616b024c66d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec5c7e7371d40a5592684616b024c66d">&#9670;&nbsp;</a></span>Rebuild()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BulletModel::Rebuild </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Destroy and rebuild all internal bullet structures. This is intended for edit tools which need to update bullet models to match changes to the PMPL structures. Requires the model to already be part of a dynamics world, but must be done while the simulation isn't stepping. </p>

</div>
</div>
<a id="aafb7539e104355011cb7cac841c8ede8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aafb7539e104355011cb7cac841c8ede8">&#9670;&nbsp;</a></span>RemoveFromDynamicsWorld()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BulletModel::RemoveFromDynamicsWorld </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ad0b12df96bbbe8d0a23cb118701662f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad0b12df96bbbe8d0a23cb118701662f0">&#9670;&nbsp;</a></span>SetState()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void BulletModel::SetState </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classCfg.html">Cfg</a> &amp;&#160;</td>
          <td class="paramname"><em>_c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Set the current configuration of the bullet model. Does not work for static multibodies. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_c</td><td>The configuration to set. </td></tr>
  </table>
  </dd>
</dl>
<p>@TODO Make a more efficient routine for this, that doesn't need to configure the PMPL robot. Ideally we should grab the base's world transform directly from the _c cfg.</p>

</div>
</div>
<a id="afe4489de96cf7836947ddb20ec099c39"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe4489de96cf7836947ddb20ec099c39">&#9670;&nbsp;</a></span>ZeroVelocities()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void BulletModel::ZeroVelocities </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Set all velocities on the bullet model to zero. This does NOT respect the mechanics models and should only be used for initialization and debugging. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/opt/actions-runner/_work/open-ppl/open-ppl/src/Simulator/<a class="el" href="BulletModel_8h_source.html">BulletModel.h</a></li>
<li>/opt/actions-runner/_work/open-ppl/open-ppl/src/Simulator/<a class="el" href="BulletModel_8cpp.html">BulletModel.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
