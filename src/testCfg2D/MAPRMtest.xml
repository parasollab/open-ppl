<?xml version='1.0' encoding='UTF-8'?>
<motion_planning>
  <MPProblem>
    <environment input_env="passage.env">
      <robot Cfg_name="Cfg_free" num_joints="0" pos_dof="2" dofs="6"> 
      	<boundary type="bbox" translational_scale="1">
      	  <parameter id="0" Label="x" type="translational" min="-25" max="25" />
      	  <parameter id="1" Label="y" type="translational" min="-25" max="25" />
      	  <parameter id="2" Label="z" type="translational" min="-1" max="1" />
      	</boundary>
      </robot>
      <!-- <resolution pos_res="0.05" ori_res="0.05" / let the MP compute it-->
    </environment>
    <distance_metrics>
      <euclidean Label="default"/>

      <scaledEuclidean Label= "scaledEuclidean" scale ="0.5"/>
       <euclidean Label="euclidean"/>
       <rmsd Label="rmsd" />
       <lp_swept Label="lp_swept" pos_res='5' ori_res='5' use_bbox="true">
            <lp_methods>
               <straightline Label="dm_lp" length="0" binary_search="0"/>
            </lp_methods>
        </lp_swept>      
           
        <binary_lp_swept Label="bp_swept" pos_res='5' ori_res='5' use_bbox="true">
           <lp_methods>
              <straightline Label="dm_lp" length="0" binary_search="0"/>
            </lp_methods>
        </binary_lp_swept> 

    </distance_metrics>    
    <validity_test>    
      <CollisionDetection Label="cd1" method="RAPID" />
      <CollisionDetection Label="cd2" method="PQP" />
      <CollisionDetection Label="cd3" method="VCLIP" />   
    </validity_test>
    <NeighborhoodFinder>
      <BFNF Label="BFNF" dm_method="euclidean" dm2_method="euclidean"/>
    </NeighborhoodFinder>
    <MPRegions/>
  </MPProblem>
  
  <MPStrategy>  
    <node_generation_methods>
      <UniformRandomFreeSampler Label="UniformRandomFree" vc_method="cd1"/>
      <ObstacleBasedSampler Label="OBPRM" vc_method="cd1" usebbx="true" dm_method="euclidean">
        <step_size number="0.0"/>
        <n_shells_coll number="0"/>
        <n_shells_free number="1"/>
      </ObstacleBasedSampler>
      <FreeMedialAxisSampler Label="MAPRM" vc_method="cd2" dm_method="euclidean">
         <clearance number="100"/>
         <penetration number="100"/>
      </FreeMedialAxisSampler>
      <GaussRandomFreeSampler Label="Gauss" vc_method="cd1" gauss_d="0.01" usebbx="true" dm_method="euclidean"/>
    </node_generation_methods>
    
    <connection_methods>
      <NeighborhoodConnection Label="Closest" nf="BFNF" k="20" CheckIfSameCC="true" />
      <ConnectCCs Label="ConnectCCs" smallcc="5" kpairs="2" nf="BFNF"/>
      <NeighborhoodConnection Label="queryconnector" nf="BFNF" k="5" CheckIfSameCC="false" /> 
    </connection_methods>

    <lp_methods>
      <straightline Label="sl" length="0" binary_search="1" vc_method="cd1"/>
    </lp_methods>
    
    <MPEvaluator_methods>
      <MPRegionConditionalEvaluators>
        <TestEvaluation Label="TestEval" size="500" />
        <PrintMapEvaluation Label="PrintMap" base_name="maprm/node" />
        <QueryEvaluation Label="query" filename="narrow.query" >
            <node_connection_method Method="queryconnector" />
        </QueryEvaluation>
      </MPRegionConditionalEvaluators>
    </MPEvaluator_methods>
    
    <MPStrategyMethod Controller="PRM1">
      <BasicPRMStrategy Label="PRM1" seed="1337" filename="maprm/ip" iterations="1" num_samples="500" dm_method="euclidean">
        <node_generation_method Method="MAPRM" Number="1"/>
        <node_connection_method Method="Closest"/>
        <component_connection_method Method="ConnectCCs"/>
        <evaluation_method Method="PrintMap" />
        <evaluation_method Method="TestEval"/>
        <!--evaluation_method Method="query" /-->
      </BasicPRMStrategy>
    </MPStrategyMethod>
  </MPStrategy>
</motion_planning>

